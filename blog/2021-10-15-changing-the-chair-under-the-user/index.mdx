---
title: "Меняем стул под пользователем"
tags: [video]
---

Мысли после просмотра доклада Александра Коротаева «Меняем стул под пользователем».

<div class="video">
    <iframe width="966" height="543" src="https://www.youtube.com/embed/W5YXcI3ov4w" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
</div>

Ссылка на видео: https://www.youtube.com/watch?v=W5YXcI3ov4w

Александр Коротаев рассказал о том, как работает раскатка релизов во ВКонтакте, и с какой болью ему пришлось столкнуться сменив однажды адрес статики.

## Trunk based development

Я же впервые услышал о таком подходе к релизам, как «Trunk base development». Это когда берется trunk-ветка, чаще всего она будет называться master или main, и автоматически релизится, то есть выкатывается в прод, через какое-то небольшое количество времени, а все разработчики вливают фичи, баги и хотфиксы прямо в trunk-ветку. Нет ручного сбора задач в один релиз. Вместо этого задачи попадают в релизы хаотично: какие успели влить в trunk-ветку до релиза, те и выльются в продакшен.

В случае со ВКонтакте, релизы происходят каждые 30 минут, а trunk-ветка называется master. И кто успел вмержить свой код в master перед релизом, тот и попадет в продакшен. А через полчаса можно вылить хотфикс или откатить сломанный код.

Вы только представьте, любую фичу можно выкатить в продакшен буквально спустя час после того, как вы ее реализовали. Александр Коротаев называет эту метрику «Time to market». И если что-то сломалось после релиза, то оно также быстро чинится следующим релизом через 30 минут. Не чудо ли?
